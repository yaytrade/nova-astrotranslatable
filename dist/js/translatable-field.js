(()=>{"use strict";var e={776:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(645),a=r.n(n)()((function(e){return e[1]}));a.push([e.id,".translatable-field .flex.border-t[data-v-4981693a]{border-style:none!important}",""]);const o=a},81:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(645),a=r.n(n)()((function(e){return e[1]}));a.push([e.id,".translatable-field:not(:last-child) .field-wrapper[data-v-4d4c0050]{border-style:solid!important}",""]);const o=a},656:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(645),a=r.n(n)()((function(e){return e[1]}));a.push([e.id,".nova-translatable-locale-tabs{padding-top:.25rem;position:relative;z-index:2}.nova-translatable-locale-tabs .locale-tag{border-bottom:2px solid transparent}.nova-translatable-locale-tabs .locale-tag.-active{border-color:rgba(var(--colors-primary-500));color:rgba(var(--colors-primary-500))}.nova-translatable-locale-tabs .locale-tag.-error{border-color:rgba(var(--colors-red-500));color:rgba(var(--colors-red-500))}.nova-translatable-locale-tabs .locale-tag.-error.-active{color:rgba(var(--colors-primary-500))}",""]);const o=a},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(n)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(a[l]=!0)}for(var i=0;i<e.length;i++){var c=[].concat(e[i]);n&&a[c[0]]||(r&&(c[2]?c[2]="".concat(r," and ").concat(c[2]):c[2]=r),t.push(c))}},t}},379:(e,t,r)=>{var n,a=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},o=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),l=[];function i(e){for(var t=-1,r=0;r<l.length;r++)if(l[r].identifier===e){t=r;break}return t}function c(e,t){for(var r={},n=[],a=0;a<e.length;a++){var o=e[a],c=t.base?o[0]+t.base:o[0],s=r[c]||0,u="".concat(c," ").concat(s);r[c]=s+1;var f=i(u),d={css:o[1],media:o[2],sourceMap:o[3]};-1!==f?(l[f].references++,l[f].updater(d)):l.push({identifier:u,updater:y(d,t),references:1}),n.push(u)}return n}function s(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var a=r.nc;a&&(n.nonce=a)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var l=o(e.insert||"head");if(!l)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(t)}return t}var u,f=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function d(e,t,r,n){var a=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=f(t,a);else{var o=document.createTextNode(a),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(o,l[t]):e.appendChild(o)}}function p(e,t,r){var n=r.css,a=r.media,o=r.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var b=null,v=0;function y(e,t){var r,n,a;if(t.singleton){var o=v++;r=b||(b=s(t)),n=d.bind(null,r,o,!1),a=d.bind(null,r,o,!0)}else r=s(t),n=p.bind(null,r,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=a());var r=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var a=i(r[n]);l[a].references--}for(var o=c(e,t),s=0;s<r.length;s++){var u=i(r[s]);0===l[u].references&&(l[u].updater(),l.splice(u,1))}r=o}}}},744:(e,t)=>{t.Z=(e,t)=>{const r=e.__vccOpts||e;for(const[e,n]of t)r[e]=n;return r}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={id:n,exports:{}};return e[n](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nc=void 0,(()=>{const e=Vue;var t={key:0,class:"translatable-field pt-2",ref:"main"};const n=LaravelNova;function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,l=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw l}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s={data:function(){return{activeLocale:void 0,originalFieldName:void 0,fields:this.getInitialFields(),isMounted:!1}},beforeMount:function(){var e=this;this.originalFieldName=this.field.name,this.activeLocale=this.locales[0].key;var t=this.getInitialValues();this.locales.forEach((function(r){return _.merge(e.fields[r.key],i(i({},e.field),{},{extraAttributes:i({},e.field.extraAttributes||{}),value:t[r.key]||"",attribute:"".concat(e.field.attribute,".").concat(r.key),validationKey:"".concat(e.field.attribute,".").concat(r.key)}))})),Nova.$on("nova-translatable@setAllLocale",this.setActiveLocale)},mounted:function(){this.isMounted=!0},destroyed:function(){Nova.$off("nova-translatable@setAllLocale",this.setActiveLocale)},computed:{locales:function(){var e=this;return Object.keys(this.field.translatable.locales).sort((function(e,t){return e===Nova.config.locale&&t!==Nova.config.locale?-1:e!==Nova.config.locale&&t===Nova.config.locale?1:0})).map((function(t){return{key:t,name:e.field.translatable.locales[t]}}))},fieldValueMustBeAnObject:function(){return["key-value-field"].includes(this.field.translatable.original_component)},isFlexible:function(){return this.$parent&&this.$parent.field&&"nova-flexible-content"===this.$parent.field.component},isSimpleRepeatable:function(){return this.$parent&&this.$parent.$parent&&this.$parent.$parent.field&&"simple-repeatable"===this.$parent.$parent.field.component},isFile:function(){return["file-field"].includes(this.field.translatable.original_component)}},methods:{getInitialValues:function(){var e,t={},r=a(this.locales);try{for(r.s();!(e=r.n()).done;){var n=e.value;t[n.key]=this.formatValue(this.field.translatable.value[n.key]||"")}}catch(e){r.e(e)}finally{r.f()}return t},getInitialFields:function(){var e=Object.keys(this.field.translatable.locales),t={};return e.forEach((function(e){t[e]={value:"",readonly:"",extraAttributes:{},attribute:"",component:"",name:"",nullable:"",textAlign:""}})),t},setActiveLocale:function(e){this.activeLocale=e},setAllLocale:function(e){Nova.$emit("nova-translatable@setAllLocale",e)},removeBottomBorder:function(){return!(!this.isMounted||!this.$refs.main)&&this.$refs.main.classList.contains("remove-bottom-border")},formatValue:function(e){var t=e||"";if(this.fieldValueMustBeAnObject&&!_.isObject(t))try{t=JSON.parse(t||"{}")}catch(e){t={}}return t}}};var u=["dusk","onClick","onDblclick"];const f={props:["attribute","locales","activeLocale","displayType","detail","errors","errorAttributes","localesWithErrors"],computed:{listClasses:function(){return"column"===this.displayType?["flex","flex-col"]:[]}},methods:{hasError:function(e){if(Array.isArray(this.localesWithErrors)&&this.localesWithErrors.includes(e))return!0;if(!this.errors||!this.errorAttributes)return!1;var t=this.errorAttributes[e];return this.errors.has(t)},getDuskKey:function(e){return this.attribute?"".concat(this.attribute,".").concat(e,".locale.tab"):this.errorAttributes&&this.errorAttributes[e]?"".concat(this.errorAttributes[e],".locale.tab"):e+".locale.tab"}}};var d=r(379),p=r.n(d),b=r(656),v={insert:"head",singleton:!1};p()(b.Z,v);b.Z.locals;var y=r(744);const m=(0,y.Z)(f,[["render",function(t,r,n,a,o,l){return(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createElementBlock)("div",{class:(0,e.normalizeClass)(["nova-translatable-locale-tabs flex select-none",{"px-8":!this.detail}])},["none"!=n.displayType?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:(0,e.normalizeClass)(["ml-auto",l.listClasses])},[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(n.locales,(function(r){return(0,e.openBlock)(),(0,e.createElementBlock)("a",{key:r.key,dusk:l.getDuskKey(r.key),class:(0,e.normalizeClass)(["locale-tag ml-3 cursor-pointer font-bold text-80 text-sm",{"-active":r.key===n.activeLocale,"-error":l.hasError(r.key)}]),onClick:function(){return t.$emit("tabClick",r.key)},onDblclick:function(){return t.$emit("doubleClick",r.key)}},(0,e.toDisplayString)(r.name),43,u)})),128))],2)):(0,e.createCommentVNode)("",!0)],2)),[[e.vShow,n.locales.length>1]])}]]);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=k(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==r.return||r.return()}finally{if(i)throw o}}}}function k(e,t){if(e){if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const x={components:{LocaleTabs:m},mixins:[n.HandlesValidationErrors,n.DependentFormField,s],props:["field","resourceId","resourceName"],methods:{setInitialValue:function(){},isKeyAnArray:function(e){return!!e.match(/\[\d+\]$/g)},getKeyAndValue:function(e,t,r){var n=t.key.length+1,a=e;a.slice(-n)===".".concat(t.key)&&(a=a.slice(0,-n));var o=!!a.match(/\[\d+\]$/g);if(o){var l=/\[\d+\]$/g.exec(a);a="".concat(a.slice(0,l.index-n)).concat(a.slice(l.index))}if(o){var i=/\[\d+\]$/g.exec(a);return["".concat(a.slice(0,i.index),"[").concat(t.key,"]").concat(a.slice(i.index)),r.get(e)]}return["".concat(a,"[").concat(t.key,"]"),r.get(e)]},fill:function(e){try{if(this.isFlexible&&this.isFile)return alert("Sorry, nova-translatable File and Image fields inside Flexible currently do not work.");var t,r={},n=this.currentField.translatable.original_attribute,a=g(this.locales);try{for(a.s();!(t=a.n()).done;){var o=t.value,l=new FormData,i=this.fields[o.key];i.fill&&i.fill(l);for(var c=Array.from(l.keys()),s=0,u=c;s<u.length;s++){var f=u[s],d=h(this.getKeyAndValue(f,o,l),2),p=d[0],b=d[1];this.isFlexible&&p.endsWith(n+"[".concat(o.key,"]"))||this.isSimpleRepeatable?this.isKeyAnArray(f)?(r[o.key]||(r[o.key]=[]),r[o.key].push(b)):r[o.key]=b:e.append(p,b)}}}catch(e){a.e(e)}finally{a.f()}return void((this.isFlexible||this.isSimpleRepeatable)&&e.append(n,JSON.stringify(r)))}catch(e){console.error(e)}}},computed:{errorAttributes:function(){var e,t={},r=g(this.locales);try{for(r.s();!(e=r.n()).done;){var n=e.value;t[n.key]="".concat(this.currentField.attribute,".").concat(n.key)}}catch(e){r.e(e)}finally{r.f()}return t}}};var w=r(81),O={insert:"head",singleton:!1};p()(w.Z,O);w.Z.locals;const C=(0,y.Z)(x,[["render",function(r,n,a,o,l,i){var c=(0,e.resolveComponent)("LocaleTabs");return r.currentField.visible?((0,e.openBlock)(),(0,e.createElementBlock)("div",t,[(0,e.createVNode)(c,{locales:r.locales,attribute:a.field.attribute,"active-locale":r.activeLocale,"display-type":r.currentField.translatable.display_type,errors:r.errors,"error-attributes":i.errorAttributes,onTabClick:r.setActiveLocale,onDoubleClick:r.setAllLocale},null,8,["locales","attribute","active-locale","display-type","errors","error-attributes","onTabClick","onDoubleClick"]),((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.locales,(function(t){return(0,e.openBlock)(),(0,e.createElementBlock)("div",{key:t.key},[(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createBlock)((0,e.resolveDynamicComponent)("form-"+r.currentField.translatable.original_component),{field:r.fields[t.key],"resource-name":a.resourceName,errors:r.errors,"translatable-locale":t.key,"show-help-text":r.showHelpText},null,8,["field","resource-name","errors","translatable-locale","show-help-text"])),[[e.vShow,t.key===r.activeLocale]])])})),128))],512)):(0,e.createCommentVNode)("",!0)}],["__scopeId","data-v-4d4c0050"]]);var L={class:"translatable-field pt-2 border-t border-gray-100 dark:border-gray-700 -mx-6 px-6",ref:"main"};const B={components:{LocaleTabs:m},mixins:[s],props:["resourceName","resourceId","resource","field"]};var S=r(776),j={insert:"head",singleton:!1};p()(S.Z,j);S.Z.locals;const N=(0,y.Z)(B,[["render",function(t,r,n,a,o,l){var i=(0,e.resolveComponent)("LocaleTabs");return(0,e.openBlock)(),(0,e.createElementBlock)("div",L,[(0,e.createVNode)(i,{detail:!0,attribute:n.field.attribute,locales:t.locales,"active-locale":t.activeLocale,"display-type":n.field.translatable.display_type,onTabClick:r[0]||(r[0]=function(e){return t.activeLocale=e}),onDoubleClick:t.setAllLocale},null,8,["attribute","locales","active-locale","display-type","onDoubleClick"]),((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(t.locales,(function(r){return(0,e.openBlock)(),(0,e.createElementBlock)("div",{key:r.key},[(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createBlock)((0,e.resolveDynamicComponent)("detail-"+n.field.translatable.original_component),{field:t.fields[r.key],"translatable-locale":r.key,"resource-name":n.resourceName},null,8,["field","translatable-locale","resource-name"])),[[e.vShow,r.key===t.activeLocale]])])})),128))],512)}],["__scopeId","data-v-4981693a"]]);const E={mixins:[s],props:["resourceName","resourceId","resource","field"]},F=(0,y.Z)(E,[["render",function(t,r,n,a,o,l){return(0,e.openBlock)(),(0,e.createBlock)((0,e.resolveDynamicComponent)("index-"+n.field.translatable.original_component),{field:t.fields[t.activeLocale],"translatable-locale":t.activeLocale,"resource-name":n.resourceName},null,8,["field","translatable-locale","resource-name"])}]]);Nova.booting((function(e,t,r){e.component("index-translatable-field",F),e.component("form-translatable-field",C),e.component("detail-translatable-field",N),e.component("nova-translatable-locale-tabs",m)}))})()})();